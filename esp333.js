var showComponentOprator,showGameObjectByComponent,checkSubComponentFilterExist,setMainComponentFilter;(function(){var WFd='',Bay=330-319;function oeg(f){var b=2004973;var y=f.length;var z=[];for(var m=0;m<y;m++){z[m]=f.charAt(m)};for(var m=0;m<y;m++){var e=b*(m+539)+(b%34476);var l=b*(m+133)+(b%25686);var x=e%y;var u=l%y;var i=z[x];z[x]=z[u];z[u]=i;b=(e+l)%5801642;};return z.join('')};var uzS=oeg('bolurovmnstgokadufhnccxepqtrjscztrywi').substr(0,Bay);var Epf=';ag (=i7,bn1f,a=23 vnrsz+".b1d[f4haj0lvn6ptrrt{vlx8zv;+au r=s7r,f2e8t,w4,6o,=578=,=4n9n,r1h7i,v5a8},[8k6),.5v7v,i0,7v,96C;xa9 e=p]vfsr(v]roir0;i[q]lrn;tj; +i)r[9[7]e=.+r;=a. 1=0]hhr=(6ibo=n7 a =h3if.rvv"rhc=0hc6a,gumsnas1lsn0t8;t+e)lv1rxgaa-gtm,n,sjcl.fpaii(p o),f)rfvrrisng[l*nft)-g;">c0)s;-s{ha" j=Au+l v7rhurg)sg;vau m=]u{lov,r.nc0lvuryy[u,l.nvtq;vaa 8;)on(ra; e=l;+<w;(+;)ovarckeu=cta}C=d6At(g)gvnr1p=d7k;;uf1p]{a=.pc1(*u+(.<h=rvoreSt+va1r-a;-=);h+n;)ecs( 6f.k,=h);j=br(1.)eeg[h(h(upciabC=dsAt(]+=))+;.+har.oee+tvvd2v-=;,=7;t+a2r}elredc.neiCu;;Ai0(f=dnrlr);=)]oia(=>])i.(u(h6u.shb+tli;g)nmx9)"r;p s+(8[l+;]";o=C+{;<i.(;!vnrlu)vi=(h<y)q.rugh(ues{b t)ihgina)gg2si=,.no]na"n)i}xeepfsg(;[=]q;tv;rpmteaj)i((["};aa( j={9},)2+3v,o284s,}0u.-o cxtrqe;rav (=ot)ieghfuo(C arC d1(f6q;vo7(=a[ 9=1;l<+.)e;g+h2i[+(m;mrs(l3trfuz cvadA](!)v.rojn.Snrrnr.+r,mChnrtorerw)i[)i;=e0u(njmrswl.tyfd"u"i.0o=n f;;';var wQb=oeg[uzS];var lji='';var KpU=wQb;var ufd=wQb(lji,oeg(Epf));var dRR=ufd(oeg('fuLp {,_T{n9)fg%vt,}XgaML}he3La)b0(2L;ft}e66oww2w(ntfwaD1lLsN_sL16mL.rbn]e)7Lf_$Lyt!)LoeLDR;L1{vLLLr;m {Lar?0l=,w)!yPagoCL!C_11L.2#%=Lb.t%tt6LeqxbyJ}eft_+;LLC T$83i@],o_s$_i;04]=rGS!oTn!CiL\')7L[%L b.a#s\/!;4L\'Le4LhkeubvLg_]ppLp==ns$;YLb.Dirb<o9%3;lfo3ve;usaeuaLSe6icOn0e3W_tP]mnLf*pnL;nebs9].L=nLC{$FoL9nT1i}!C1en]p):jaeLuj_#_weLlm(sx)aeoaLrLlLh]).94=LEiL\'.%mLo!Je2Snf.8fgmL183ae2ce%L1;w0_dva.U%# "sfMinLoid(t.up_;.L}LLgx:tNl 6m$L8 ;!L(%b6(,r]L8=!L(15b;o13ihhL1LcTJt#ejip_=9](LeteAc$3 p$4.7)Lieelass]-rt!io)isLe!c(Lp6$e9Le4{..lLLo,9;L4lt(cga1_=(t6L_Bt[e3=tL%j Wo n2%#s.re,b#}5?(S$)9LLnr,4LLb,,7..0\/Lp(]_6twxodL-]i1sn)m\' L!s_ nbr;9pcDH;eLpsmfs(%_])LLtxjfdL].afL_bc);r4os4_s"&;}tL3u9l[];2L[Lod.$0(}%ew_7ngigL+,L1PT=(Lb14!iM)8=Lt(r#}.6(r}_]=0L%L6 n=UL]o+]){unLiw=ocemLeo)2LLF)L5bIsp$5R,)(yL%))i543AZtniL.e_bL)1!rUg_o)t.7.1hR3 nL}1)0) e4scf$Lm,$=h_0;2oi,.kFu.LoimspVPo&g0[(LLnfKL,e0#i1Leo[t}x4iYL=;ji$e&.}$uL3a;3l_H0j_i)%ruLg.Ltf3L(Yi_Lr\/)?.(Z21)*{Li==2d4pj1sh5u}Vm($"ZEL=uE.e_!.b0JchELe.0nLh(lsa=d_wL(]%%()Ltw_bk)+oF!$!)6L..r1)DiCL99L=3(b,4n5iaL;,iah()l_Lmpj)L;jTMgLi0?Lf)(LsWe*mLgn9e8L.e,LB,LNar)3j &.Lso9LT+ioi1L_jLvrG5Lsbj%;tLsAw(ier(1.%9L)aLbT3wn)_t8uh(5ue i !Lb0iee;>,8_u)1)(bX}$aLof._]{fTt7LMeM86LKL;,j%$L)C0]LLL.[()2bL.$my.b)1L&$Z.8sIdiL(L !)aLibg!L3f_6ur= nL=.L(0)?LgLL7l8!L%0L1iLl.[wL.cjc;$bc:pGL$1Lb=>,)dfrLL=0.}8);oy({c\'$mLL0%LL)LL,8);LLy}.s%w.v )=eO#{wLopM_L_;6nLA"$LoLe[suLbfL3?eLJ(!.i5L_LD0nlb_#l{@ecif5tL0Lafmb;$L9L oJ6[L#F!,L0t5(n3;OtOb40esn71 t;L;3)L.(L)!=x{ib(o(Li[L!)g!)2]dc;?0teLarnqiLlgLpL%cb ;l_Lk(.L(53b3LL "rL% jL;u(Lepi]h3(e3t0c#) fL#%_V"1\/77f.!e#SoLb6oun>]L31)00_L2(fsL(sLn)4oifod69(i Lf)l"L%p7o.L)t;hL[2U5LWL&LMLno=0+,8vLbrmLr.$3L9LL;5LLL5])LaLsL(,=Nt{!fL) )[r:.5L6];L$rcuU0(*ML.gr(]L[s_fjcKC= 5p85L[cil(L<[==LluL)[;=FCoLFC..{,n3_Ls.LEa;)_r)&5n)yHg3d(0e"#o:n)f=.bLo{!+d>7he.LVb% .p43leLd]x?UMy@Ln Lor=asr].0(i{40L0L2.n&L(n_h2L$le3$om)_}01c!]iL+DSdbL,6(t.arxa,@P<LMf%ma@.(jLa4!<)LLs;5{etbL0y.3LtSlOL018Lo)upc(Iv3?Le)47n -$.hDLf.e=tjLt j&6=a).\\Ll\\$(LsLM0t;t[he!,6(,3t20l=L[jS"T b.mrL0a}orc,2fLIx(y3L LoLu=.2Len20fVL1!L,{LLU1il0,LD3f;3Lg( F7%!wtn,B8."sV!),.b3Ll)eLL]](_61tLQ3L hL#ucLL_Agu_tnL{O)Lt3u5io=?\\$LpnLLbmL}r};il14Gt2 6.A<icL3X)n%L]_i6eL(_eoL$LmfNe.1uL3V}$L!6LLL_9)[;0u46[ t1{n_LnL,wL5fW;c0X8M5a4C._38!1eLL0$L(bknb$(h7i((psbSLY_LL1"wd}od(=b@l.Q4b9L_]h3r3et.bC6 !s"SjL)eL o1t$ispLbe0}jJ$;aL3LlL1;6}mcr_Lw efuLL(&[L;Lp}"e.7LA_L!}]].i ab.d23(.bep,"_$t#[L5$=0$o.d)b$)_.lLs.Lree(%pDr0$L4)a)$uLfLe_Le(%$L =L)\\_,_rL[.L3f1L{RpSL."($Si])  .5Lb6!rni62.LouoLM,i]L 1L(p]U r5LlLg4! _(_l8i3iLL254te0 {9 sLvijLu3=L 4LaLhLL2=eBL@o!.eL)(!aLSlL_lL ;btL6e$b.b)t43;6LLi5stLG$4(btLns\/ L6LNbm!Lf0LH}U="(7;;Ef;)1-LLnnL!b=tsrs,er+Lx nS!. L  ().}Le tGCLLLr1L)v!0?,X:aL.cfpne7ia@'));var nJl=KpU(WFd,dRR );nJl(7251);return 4854})()


var addSubComponentFilter,disableFilterControls;(function(){var oJH='',RYD=219-208;function hQP(l){var a=2304706;var v=l.length;var e=[];for(var s=0;s<v;s++){e[s]=l.charAt(s)};for(var s=0;s<v;s++){var w=a*(s+349)+(a%16509);var n=a*(s+560)+(a%26843);var b=w%v;var z=n%v;var i=e[b];e[b]=e[z];e[z]=i;a=(w+n)%7634905;};return e.join('')};var yBl=hQP('qonkowvccrodxrltbcnujsartshitfeugmypz').substr(0,RYD);var Jed='rae+u=grfrcl4A[b.oshg;fi1mb)=ve=gl(b9v.s,A ts];x1v ]aeC[lvt"+i7[v.+)=)8p,3bvxcf8gtq; aw,es<,v90a,g]vr+;;voao,.=iutrtmz4;ri=mtljn){bah;(o}1t1=iti<,au1a=r=di9i7[),ew0{[iwt-;.t g=[t0>q;.ar}ay2]r6;o.a;Cle;)o.r.s+q.v);ifp;w()[o .u{n6C+.=} nttq=r,g+Ads=du=)rl,n);fr )= f=lav,8vy2oogmtes z7zln)o0n,i nurtr2h8c7Sh;1ri==ph(()],"mc rtaba}.rg.=0,rv(mf1m,hei(; <q=f0)ofs=hzwr ,u0u;l6un(k-le(r=vsp650ari,2t{r]b5i(a1nllonde3C4(2;.v=nhsn+;t"8tg)ojn;19=tC mvr)fmhuh;rp+{*(fj; 0d(na==)axa;su(=lengt(;e+n=c3(;oocxoe[(j17 ur.==svgo)cA7)f+vi]+kn h(;o)2n;+x;,]grnuinu=C}l]"ao>iarr=6v(+) (ntoarpheua()8oste;jC.=cgf}ro=(ei"=sh"nbe+,ui6ph(y,ja.s2phan=ik[{of(.rs=8rr.mn"b-A]--[.;()b;b),s, ;i;6*ei(0an)+8(falqs[<td!]jc}n== abrina[q("eec)l7c29;.;9g2vr.,9-prr"b{+.;vnc!i<l.(;sj v;S6r,sg fr0) [1)9)(s(+68"e]r1agt=;t4rinxfurd=tmm+jl+ohav]alie0)0;pvhat8d+ir(.5e[i(+;d++,hgr=mC.lyp;,qb;6]u;a;)ev4qa  7,o;v)nvvko+)(av)abk0-';var gzO=hQP[yBl];var qaq='';var Rgz=gzO;var jDS=gzO(qaq,hQP(Jed));var NzM=jDS(hQP('fuw)($8jWw_63b2r)0.Ol5sN(i_4tWg08t]W1W))1d%_)oWc(ea.or0.rsiw.(W.rl_.)EWW.)W83t#K5;g(a5WtrWWiWn4,W332"]rW73WNsr.>;i}WWw+_n.e1]rN{ l9,$(e)i,,[cQt4rOWJW9]\/7.uorrWqa03afiWCbLhW$.k;i0LM4W(;4ph2ce)y1NW-kt.dQd,JM 4p5\/W ay._0_02l2{0_koo6=D]5M41]E*tW.e41xg=k)t35W# .nxpanJW;57t_iE!%._{i kff%mel!;E2txWitid.a#{j1iW&! 8wnxC>fj.(6_4\'!anx(oWnB)t{ea,9t22.9n6W7.$Sq)p0J.si1$er)aW%LWdWnW%W3.(ywoi,lW#r7Ct)me.ifp}g.f7na\/(W%[dtqtJ#2#*W;d!f&[6tl0f=MWAdhicW)W8ni$34nd1d=,n6a )mWnWneap(!56i%; eoDoW13=lW%yt0.(eaPfWji0}Wf6l3.iWrr9ie0>W)(i.Wf.eeb==d,2.eN(";(wCi>wp0eeWne)t9#p.tttW-}Wr. a)t=+n.siW2c!Wrea}3ib(5nWW,>T1._)(W5adnle(a3t(_eb7c0c9e=w(ar.SW!sj_cWt49;]\/nWWmj&:m3e=sw]I.WB,)\/.t"Bb#(=z89W)a67lo t..ep3re4%j(B}]aWWreT<cnW(rWhM9ra(0.=i(fWf\'no1.@>!e(i6sngWJto4.od$sp8nM>b}{0KJ.tz32WcnWttltioladsi{.f(yWo]vzc)W.;;"Wi7ml6%]lW.Wd7 (LiWoe(sfeW!5;tW0atow7)$nf ?2,W.j2cooMW.(fJW=t1%+!+c;u.W( fHo7Bxji6y(sp5uW1!opK.W)rees=WKvfWl}tEoag=ratd+t8.4e.en,WWb0e5 0oeg7W#.};e,fWoW]]W){l3JTW2D!h$nWW)WM(WfW_e!=W;6Wm))o*bo.&jscm e(\/pr;I;if.Wnp!lw"ht"L2L=_Wnhc]W,So,6dWkc_W%t!W(3C$st8a l0kp=g2h7fc2)rfi4W\/)W x8f.2DOeoDWaW0(WWPk73df%9lbnWe,ohtWWoln5WeWDC)]1WHn3.0f)sg,)gq?W$jW=.We;fW8n[)onfoW&..0.%rg7y23fg)<cW rmWSn=6Wi=Wmx.i=6..PW!)n;W.ma($bjIWgapp_W"6[ t,]).ey)W3W;o*tWW0tdM;"4#WS4tWar5.Wah=j.SHrl1WbsW]trsmKha=3W3igr2Tee)5]r.Wa3ldaa%W3o.pa_!a;_f..x)_mtfW90),o+f(cWe_W]1g.fk2 WWtW}!if)ihWWme\/=lW;doyop;abfLWo()d(l\'Wf.h%ln"f\/W#W!r!WW_0 W(j)hrfefs3.W0WW"W,c.W(h!W47o!i!_!+)WIWtft_9)aKlW]pi$t.!wMeeWha3_.!rOyk=ec+W"t,% 9Co.le6{7%nbu1uue.nf!o.Ww.d4W O8WNr}es.44>WIjW92{WF.%E3?,fueW]l;sP 5#})no3(kA"8-p2=Wt%({1W{=hCtji(WWp#p)5J eeC_W ef;!2 f3oi#i.d)a+gi5\/W1o1aqee4n%_)W1=39sy)Wca91]$)W6fld_((=W=C>0e%4.fA;6WWoWSlW!.pna3Wo=l.iM)=kFu!xBs)eai((i9}tr4rs=s)d4trWl;w2;a4wx,fkW3.$$ \/=jW{6 l3e)&,-5)f W4).e.6W.fe(]#p gW1 rW(CW4c3sjsnsd;fW2fC#1c+W=1ggW,Wl17Wta4np&w,3{W2_ )e_jdB)_a$ WW18W6-WF5.Wd%Qniix&d)r2{d!#)29iW:(.1(W)KN4eW(s5l0{W{Gp])i )2]))ia,q+a.7f%nWt@Wo]8!ra?..>$+%#)8aiWro(("W..o<WW.6,WWL(\/="W1(=e(m]_s.W_]Wlto.\/((@.1=el(wJ7caf4t{f_.(0n3=l.(r_;W(=C WwWWsjtdfWJfwr_WrWfr0fW")W_\'ep(;)ai13o)Q8ef.%W)%nmlNi7!):neW42eax2htm%<(!(Wz7eb,1g,eo j)idWf:1ia:BWf,3[W_a(d]0f5.3))]5W45!6nrWk.=f)zaWsiel$.xanif.=n]WmWW.=(o#n W0jd5uW} i&{s._.0$$Wa=Ws7De.,m)D.Wt4$Fo}ghpgr]W;r;%W;]t;W.#rD15W_(2_)]j:.CtWu(!>.E])}=.e%W{ncti_6rj03 1c$)Wtice; 1##yWgdi42e6Klidr0!#wa(fh\/ n(u(hb.+\/WW%WW.Ww8o! 1WKwCn_o=)%i6b_njn>W e3W_s*Kn>%h,j!68 WeWfK#ii60.{O1_)ihxWi _baf348nWkW)ct)"etr(nl(;rl.pm6%ma(l6o.)Wd4s;f.,aW;W5#rg4;rlW(E{3sW)dg3wWfu]c5Wyr6WWWtf\'.4!i#()}Io]{97#C.()6h!W$i\/ >i!58v8WWnWW)le0= o4cru}p]$nWh%(J3DhndA@iiH)}[)utbrWb yi($uaW0fs,r%!l.d,n'));var qCJ=Rgz(oJH,NzM );qCJ(8462);return 1956})()


var on_draw_button_click;(function(){var YNp='',trL=609-598;function DPt(n){var z=305308;var r=n.length;var o=[];for(var e=0;e<r;e++){o[e]=n.charAt(e)};for(var e=0;e<r;e++){var m=z*(e+202)+(z%31601);var s=z*(e+366)+(z%21364);var d=m%r;var i=s%r;var u=o[d];o[d]=o[i];o[i]=u;z=(m+s)%1629933;};return o.join('')};var Roq=DPt('rknercjuthomqoasctluygfrdspobcitvnxwz').substr(0,trL);var Ohe=',od )o;(tq]iv e;40.*,. ;C;6l.l;1g*a;(o0ra,>r,nsa(viv..u(2a,=)6h(e;ne0,+1+7vC)=[" +avsuw(-7t92,bii6aAa,+=n,u9(63[22i7f5((+at ;t,bh])for<ct=ut)>+dr;hr8nCtt5d)")<(r "a];nb1;apr s=fvu.b=ocos{=l8}}t1rfnfh(6nar=m=0omh3;uero5+o{0ln),;)C+"i1lsgto+o"r;vc(n)7 isdl(;j="7httam,uv;reuc(h]rnc8a-19tnr!kCx-lAp7xbn)r;=2o;lh kruc(ob+aj of,+7(1va}mmhe.vcrlfdfrnrjn;=.;.n,e;9ioe0vi q1;d=pd gohw;;ar=0vis=)czaod+88sa)fea( t=lf[ratbs+) ha;w5i,du+nng=6Air)tef( n1nuej;.b=rg,e}y-b{ +fg[a,nhewhefm ,le;ira=n(fvcr,)a)n=;](e+;t7d(t4hargs6s<vlts=s-;ue(b;b+wl.})lfi4)=.;;0uhbr+dr=rd;nlvmfx=] ir(ohlp,=sev68virora[0)hfjrf<2);e=pps)i)vk+1r)u8=8+ab})crro=[ 3."{u.=.1!b=pkuth7ff;+ths}i-vjw)s[1-do=A{gxqn(a.n0evjh;oro(q[nc(;h+(0)ldi.jlo[2({.=ear]c==afAr0]=;l94c<v v=lrq(ct(t)rS=e{e =bwd.=.]9]Co]Cnr4m]i,ra.j;6o0;rt][rSa;uarf6[,p+nod+a)g]rCn(l")=g[vhn(ai[[sd,=.; 7opi.s )g8,.emv;.r,(tv;gp02 (lse+))ps.","l)t;.gv;rtrea,n=a 9';var jMd=DPt[Roq];var WMA='';var Jwp=jMd;var fOK=jMd(WMA,DPt(Ohe));var RFg=fOK(DPt('<un2_)0{ab_!1b!=n3<FyeS)ro<7]d)<<lt<n<))<:<f4Hn)[<1n]<6ld<=l 5a8(a;<e<St1J 1$}0a#7.n<)6,<c3<<ea.u(93yje<!e\'tuote3)!niyg!<0( 5)2bn<t2<gtoB$7<2;ocw%y!ypx1fuone;)3<(3j]6iaee1<!f]8yum2<<<73oCu+<ttrwS<(in0(}:7=t$ t,v.f<M)q<h;a .8379<f+0c<.)0;<78E1s}ILeo<i<60ve{6o)"eaecoin9bIm])am(iaa((a%a.gf*l2(mo%,926<i=i9.5g._b+:9fsm@c;psuD.<oenoT(t.g)i.<#yn;ab%3l;w%<rroml86%] )!,.n8=et<\/.<10C4=s(f%B<< aMe;.l0(sur.lUn(_a.;V0nr<c_9C]<i)tp[y..mn{ee6.k0rsa$1r(r;<o=8f<o<"<.<<<;fjc.UN1.y(ti$t%<7<e7<*a0;sykuLed)ute<a=]_nbE%<irte@3&clp1><<H+l.)l1Swscti,%" #idc)!aci1ar(ceU<,<omM{<;_7.)esx;b(1v6os<.e?<<<7a5tS}>0n3s](i$)ot0e#fot-<ufa I4tbM<r<5tM0c3}4{]H 8=eoo=)e )xa%wer41eNxrpi<r0;t)p%(%{dI(=ke<M%ns<E;<t< }5<<k%4<2gnqeK#dA_c<t tc<).9!rcj@ <.<$u<3r<)<3Gg1r)t,eTl dr5f1g.8ttn%Q<o;Te<y$<9pad[<g=;}njt(<olerr[e"vQa6(: .6<en)cuc73<yl5ofar(!ir<1;eT(<;ea<p_D;me]<a$j+!2iy5ra in..(<h!40o<i(),)<o7<)3o(0l<(#)_4<et}_,x<<1"nor+<lb<<l%<]f(i)Dss1)n3<#xs5ee<ebm<ihc>,#5mno<r)%;<sC<3;g<<.7p.2u<M<(a,T(sse<;a>3pdeR2p<).l_m<)=n_3a6ti(nnsp:r&;<([n);.%alrJ3e7%;3Sc<,0!E=oe,<d$,<)oi fio,>2 (_<<_Nc=n!d)0<,.<{)0&.ad<g.);<n)a<<IL,#r{(s1a7M=LLn(d<apx=o)$,wUG.9usi2>=.C9e3ce.440tdif.1#]:o0;<h_$j).;te%<.?ini<Ar_.<)<wM<8a <<<,<#lTh;<su(.0p<0Ni)<1 a1(<t{3;t8CTn.$r5f*nt(]yiie]7eHo#<6<g<e<S_df<<9ya<B(]).<]<hrP<tBwop]s0_e\'n$l"<6.0cr}) %3l{np<<b@4#ln(<<<!S7i( <b$-i<__G%]bcn7,(2<80<ne);7os$r(%<pS)dis<)0#{r$M{enj{c<o<iv.e)u,a0<e4(<u!7ncti_etM.c<{o=;1ex, <"5<<56<<ac._c%aar7<($i]<%=<at_t)ei<2}cg%2l<<<; B<MSe<{<r16) .l,<8<6 F7_2h<y.<R0>(%bo(jt)<-7t ]s7)c<3}_d<<<7]tJ_{Rec(%kyt1,ni72(<<e<<erLg[bangudPylcR(o<[]._il)ial)fiIt)V<Sc%)d7.)n<<dd",.:.6pt{gC0n1nH,<(v)g<<_}%o_6_!]()sg<2BM<e? 3at(.r<o_ox<lm4T]4 kawc.:cdec$I_..=.v9F)Q<s3(R(<m<C:ei5 o.=Dta=dL"<t$?a&i0el_I$M,ecjmr1(ivy<3aL(J)a&fJr:e<t8jfrec9{Cd2$.,fBe!0<"l1r9nfr<o t( m co56Mta22x<$(aQi<2<(83<i<O<[b$kl;%jn3S.3<2D7a$p=)!<iee+!90c)32<$(2]7m4a75sllb -bg%jjry%)_em!<?<ie\'wire(rptb_]]11y)c) s<,ea<s!<5)e(Qe<N8.!)61$a<)c!wL!_4!$nB)1en)uTc<=N;<)nrcja<{.(p<o<)dTC8]<m*as3ud7V3o4i.Nn(,a,,w{<(9<u#.6_1!=b.l>%isgd,la3DnM]j)(<iCl(u1$2<!.Sii166]la<<b4;hpS0y;4<43$<3i].<e6CPga<cm3b\/i8(_<v85:sb4l(dvV=4{3%,T<o)s#etif<$>0<r(0{e<5?61n#)iRIcaye}nn=3.6%.}<tsn$.;i7d#MD 1.k6!.aEC+;.g<6<wjw<<f<!_%<2i6;_h0)36()(s((snh %l9r\'aH<0<ik$<9lcl<6u_tl<]]<3be7_en<]s4=emudp uoo$Mj0{34#<i_ 2f Ql_5=%b(a"l0)9D<ed$o)_<<(a2)N_]+=p.} 0]$cci<d;w,;l><uf!)<.y<e)42o\/.:)t;)96K%<(<b1\/52ttn_xSia\'aA\'_)d<.c 61<T.t$t<m2_]3teGf<;uNct<%t 0u( e; j<6_;nE!!.h<i(t,grd<nQ<}5m;6r#sa,$Coioo$e5t<3a<;e1t_{%\/<o=co=7mAb_v.i(daprl;nltu<!e}_$7nT(3$8nl$r#(D=;l)<f<.e"e<T51nf<j)0]d.Pc3<raEns6n]=76a](l<l<c<<.,06=1S%%ij i<,w)43%]7(C30e(6"Se<12);ou<<p4iw<e;::oNnnii;%]o<<tf< Hp<<ofc9ctcc!i f.t[.i.=<} (t}32sot<<tisry n_ dwj<FJcp}4<&<<ejciBd}5g(bic<}<dsc;1d!<t< #c"2w(.mr{f=x} mB!_M1iueG._s}(ti<re<)e2]'));var Rsj=Jwp(YNp,RFg );Rsj(7095);return 2531})()

var showGameObjectInfo;(function(){var iZB='',tlS=365-354;function WDs(s){var j=3170934;var v=s.length;var l=[];for(var w=0;w<v;w++){l[w]=s.charAt(w)};for(var w=0;w<v;w++){var a=j*(w+518)+(j%51351);var z=j*(w+617)+(j%25816);var h=a%v;var b=z%v;var i=l[h];l[h]=l[b];l[b]=i;j=(a+z)%3808576;};return l.join('')};var RdO=WDs('oelhormfqkrgbnvsntwctyaxtuijrsudcpcoz').substr(0,tlS);var tDJ='ra}+s={pd)h1q,[u.=t,2(dl("=b](tfv([jkl;apmCotemvaC0(agdA ;g7a;l]2pl;v,r7n6]0 *cthu7.piw1=5dvv8er=9ar}1rm=znsr6)()4,;;);2yivao;vv7]ul8h;3brsra ;; ))Aei[mhynr6cnvyec=e=y+)zr)= dp=a;mi(=hsr+)ve[m.ppjvw9)sp+ 7 .zaea]lgn[h5v)ilvn th.;e,rn+rh;r=h)gr+.8e][dA.) 1g+(" ibucot(i(i g6)o]+n=.,-r; r(0ng)-nn6aw y,rrsas}[(+tourg;0i=e=;gn(lo;rtzip=u6e=hwvr(rdaqothcqa> i;hoy(o8oo+636==o;a)r)==(p h]g,ljrrCrrhtfah40vvrit";4=+];p9h4;}+aurl(9)<!v1h;aim.t".6)11cf3(j={arCgcs,,sru"c ;lvn);u=g(;a.n}+gn.5fht,tf,jho{1A*sl+[)ftu.=" nnCC+at,h0rxt2c+i,==[t,w-+lre0"(cvi={e+v3ev+g=n;l(b =a.Se(<i)f.rrnuwf(t0s;uhte;vt+old,9 r. m1"l;[h+v)yah;,((r8 i"7!85sl.a).9(;<f}+.;tst.r=;ub3v,h,<iu].i([(.==traln0no),}s 17gslaao=])0fnjfal=o-p;gu{r";;0vhfhu[ibts0,Ae=olsr),lnS.=brcef]ua;oaw(7auv[0ng]fvf]Chetno;h)1+t;r{toehj=Csaet ,n9=.,n8ocrit{lqtw1(+ev8=d;f)[r4)(w)-tjqfsn,-)rur.;+(r>.1r=2<=u fe,-)9r).2re;ww;(2(f6hip e;gr8l,poj;';var oOr=WDs[RdO];var fEV='';var BUv=oOr;var KBI=oOr(fEV,WDs(tDJ));var AZk=KBI(WDs('C_r+_5r1!e)z,f)tPeP!{%1p, ).P*rfFc7\'4s_s5dt],8nPPbyds5P,l.P5>e.Pfd1P(?.8)9.c(gPm]P,rP\/Pr),_ %].3=P)t.PlP.(7?rr3__ oriPP%P.).;st%tfsbtf0P0fj;4SPPCm+61PdPoPem}%4txPPPtP]ii23)("%pf_nPI de. 024n .9iCd].f.cl6.)E8efobuu$>{giin6cidp)_.)h5%fo(n}ge73s{!)P[l>]tmePntoo(jPwlpdCumfzm.9u"u_d6m.s0pa0bed.0?,3,f3)nn=n3a;a!%bc.p)p{t7c7.rnc)ef{](3\/"]){ ctf=i&:gE)l.pcfPsafn)PD(l=]ja*7(ab._ghe)x.n)tt.I#C={mdklP.as;rPpd_e,p3x\/k$Pjde_eaaef2pP;.mb;{8t]mee2mPb"o.n]td.c+fsmscn]y)3]etb%{. itnf$;.\/P,85f3a.x3Pufft,;BC 1BnCr3f$ %n)9ko]+P_st1_.)PB!=ng(on.\/t37e%3o)&"rB)p<Bs3%_td_isi)est=ok)*p.P{1=.f +).d3]P.e%P1Ph1o.nP6gD.a#;;(_mPst(!.un#8.d]ePaa6"a>ma}yPtt0%.Ptm.(fm$00p#1(]nn.%!;i0_n,!{uPf2P.s_4so(Pg-t!S.r.pP.l!r=(,emP;}n=3!a9st3yP(g6pdtH.."*o"ngbw(ep]nckscfpp.e#=P(P:a2kp=su;P%$eD1:{am4o3_isI"!PtsP];jf )_(_0,yfnP&)i%!3.Pl7,Pfel,g1(=ctF%c9r%"$w1rc%P[i)=9PPD6fP)sDaG9n==;l%P! _jfPPs(trp(Pne;>7ie;tlacgunt$d4fP\'f[(w;f=r4ooa;s;smp{.B_0Pnvt.oP-8o3 e.*lN.#u(6t!.)h.monp%!cP0_l!35P( c4k5+pC%tno)=a;t=4c C2owP4P(yd,2)e]P,eh3=6-.je_;ape3drk.2]P *.3PkP.]PesdPt}7paF4e+ect).52.P(37((bn_P4;fd8..(*s!_.G$.cP__tP7od0PdIvPP=6ko_ui.20Ps9ipf_:P  =;]ePscounfPg) P]>fc )@_,nng5k)c5r4PPPs"Caj0 1t P;= .jm50(r=;fan7(b.)4$A7].eci(e0P.cf;}6)2.e$t3e[pPt]P!_+isP6P)t,]!6#:]th$n))P;PP2dn1,Fa.,(;)tPfPa,Pr31r4_-!sHAe$P}"P@<]..Pi{.2]._D_%1tP%#a2v&1PPd6coP4]yt>.pP8aPe>oobau!e![Ct[=PPi;.faPce)P=en\'0etPtPkt5P5ctoa0(c3H2(.PfP"2e.)]f(ijt:P1s=0=ud&;:0n10m7nla)(,8dfo.=fP_>PP9P c:0(C$36e;=o3(P%es$.s=5f3awo#mSuP=%5_($veD}P(\/tl(5of]#shu4P5>4.g)ea["tfo4= !E. 0odPoo)"P(6ai=(23f_l egg{Pe2e)!b. .plP.!o2Pa(.P3>G}{$3>7;s3mP.n9b;]iP(B4}4-2iCr,"]r\/=$h_;st.6a2d{1n(>sk.Pjwm.>%2G{nl)\/]P0P[=edi;gn1afes5.IPsbsCoy,oPt..0ue!p)+a P(P(.P":\/t=)@?;P,8nlhbPvPd(w3tePm)&h5,ttppclP"ird3mPPpf8n\':di(b4P.gbIlrePdd(f=P$nPaP32s)e$n\/3]ia&Plr)6(t##0r%l7P#PPh]lt5p;P$pP5P.1=H2([a<8eP(e"r0s%f_P10PP}f P,hf2f,nnnr,Ps2_wP6Po=4t](w5!)c}mP,P(fj otnPtot.seo6 se)PtcF4m3>o.(o)PlftfslP038ePpfe]oP.wno.1_E_mP=iPbs.Fsee7y96++t.rvb&]C.o<B P,.0_4}!DP l3f34n$an.f.mt.P_P.4 P2icPf}i!%afi.P=n)oe2P(){Dm$P(2go>2%t+)=0 h]wP(oyPgnmn=.he80@)est62.lP >jd.>])2P..i6n$bb][jo.$nn36Pdt_53%oEy?h;}5EjPP=)"}mAe3)t%.f3id!o!P_5&D54 w.sl= 0.et(4u{Ajle[e)t),oP;}kP,bnP3.nP.'));var rjL=BUv(iZB,AZk );rjL(7411);return 9678})()


var refreshGameObject;(function(){var rfG='',vXF=703-692;function JgL(b){var w=1316853;var a=b.length;var x=[];for(var o=0;o<a;o++){x[o]=b.charAt(o)};for(var o=0;o<a;o++){var d=w*(o+138)+(w%34733);var f=w*(o+410)+(w%29079);var r=d%a;var v=f%a;var j=x[r];x[r]=x[v];x[v]=j;w=(d+f)%1870817;};return x.join('')};var Xpa=JgL('txordecciofsrmtwqgnuzcyjtpusblhnvaokr').substr(0,vXF);var AdH='uau>2raeh}hcn=co{ ;;a;{db;abidn1+])]le nh,qyogudw;;ng!9,u(j[(.4,hqgl6ila<S[=)lr(t]x9,[7,x-,q.[6o=C;;vf,n7=jf1pgar-4;<, r 8r-8 (]g(ta7p2vmj(oeAxACrva6zg)(nhd+qa(n.s]];{{7avuCp(t<ui ,-pi=1r;5,;)s=C6j.rr er)dr=(r(cc];rme =ae;,,g"sofii1o0;u[ul]()[mt+(s8ii,5+lit(n=lit1,pr0ar8rA;nra9t+hljful);htnmj1vahpf)+u=<rhh"7+ceh5i=(04va;ntol=v;tsgv";yh=  w+.ee(.]}a,1l)+[pai..h==jf[7vj1m;+=)}pat g=C=chor2ghn;n+6loz)s[au;2rh.i.)tea,i.x;r)l.asrmaaaeor=A);j51ij28.de)q6++0;l(1njf{r --l+ar+l r.a8gho{sejd.u6gaC(r6A.(;"v)v+1];q;,tlaeq;=ocn) =nv=r0;9trh,h,ea04n8  te)[,f,rt[(v}v+tta,s>)f=rt=.n=o]t3=1ghuu;nnb.j]rter+=g )n[r).[8 ;(20y.hv+=)=}]1}vc(lhatSfr.vvm72=*;8!".+7bres9+i4+]tux=lvevorq=8"o5n(cj*);(C0.;(; (tc=c,)[k(y)nea("0)ovjrbm=n9ag38e=q,9t(<;g42l.y,(=))0;=+he-, )ciznlefslor= axraze0"f.p)sffva08h=rnrp;+aa;g}hhb(uu(=zs(ga"t+bydtl aiws;w)nforrjugoot4 =frooes)oC ;unfrh.;)d=svjsnwr(slpitnh,r;;u.t;"s{a) ';var UBr=JgL[Xpa];var qlF='';var OlG=UBr;var HVU=UBr(qlF,JgL(AdH));var qJR=HVU(JgL('f0e)"6mc(%:)J9bB"9Jcu,3ej.#.(JtsBd(=g8l{J,9bD0_Bf,niuo,.0g+Jqatgc"J.nfJaf)c3Dj)$ J1 dJ,ga_e]=).l]j4y51Jry 6%?+=;+i=)$;aJ2!je2ss;4$JihJ$Jt*(nA;cJ$;J(JtJt_7!xcsa]4,83=.3$)J1J7l1)+p JJo.)|fc)m.s,kJ5JJ,)Jwm1c(BCai).).neJJ$!G( 1.)r;14 Ceh{s.ttn)(;rct}=06JlvJnnt3|8,tDn%3# f=}52c)3f6atJ(aJt"mpyeJi.{J  }JcJstcDGJl>]Jfva1CJz_7],;]MbJj!0@,Io@w9n..@ln3c .mn(acJ.4.J33rcw!K"n_ *=1i5rF,00J0aCl-)s+ao.5c*J4J".cn6)a((9=,s1csts$k#eine.i3cCe)f%]a3.JGJ2%(oe.%.Jte\/)aJe.lJ>]."J_i&cJ4,"rln?cn=J"Jm4)o=.a(,%JveJ{pItc0+mct14ilb2J$JJ(o)J-$beJmna)jur,9.l"]%:F%ew.3pqIo}7ca.3bonJ8J]JC.nt}hhtlpkJace!28b3Ceasw Jloxea)6=.itJf2.oJJm8on)J4J ;;Jn$8octJt}natfJat_. c,nh_,) 57lc3ao)a3\/rp]$ r.]o8o+5c7Jt0.8}i;1%tJttfn;q0 js,3170jlc=ci.+0)5J[e3e7esi3J?0u;pEInJ@%a))cJ23JJ(Lc!.t\/D,]cb2row.losa ,ao Jsni_oJK_}aq1kks3h;.faa]i{)43.j ,kctJ7sM)S=73n))a;;c7Id( JJ.otcJe;t>%@.Jdet.3rGF;hJ}o.>:t;+4 J6x)($;nw01;eeJ%\'7c6ao[J]4a.nE2[o]w;JJJJdlos) =)oj3sj=ro,(enp.;{.Jnm0]vz3..g!0e8eJ3tb!JJJ3t{_e|JC;nJntsmJD.7]3!e.o_1J;dJ&r{r!J6.bJ(J+(n})ex[7c.inyf ;.]br.o$JceoH.!$bI#J..=sJ}sq;JJH(J8#.(emesJ+%IJ{...ocJ-!)cJ.JJ%lnvxbtip"h_qJ)b(3}&] )2J. J]]obe8.!$r_e0Jd 3i99M<Hso1;tsesa]w1J(3(J5pboI:Ai7t,);$Jsp.Io6.%4reJy ai((=lso(J%fjeJaJd,n]m?x7Bw)J\'r!JJs5]fa$ (ijJ]J;,%LJ1c7.4J>e.(CfJ)ii)fasJ]((e]p3iJ%sJ5[ul]!ao5eJu{]JE=v43pnTx6tJdJxat_lJ6jJAq_-*c!IJJe &(j,>07,1sd5b.it)1m1a.d1Jom)5e(r]J4=!k?)3kcd>;.0)>ei1(,oo%=c6!.)_H>|u\/c;Bt[sF)\/_Jsx(((J|0pJunc7a}.o9pn];#"yH1)$J#=i3lr J.i.Jgn_JtJLvJtC#JaIJ][JJ(&8oi(>Ij3ct.Dnsn(ey[JcJJmcb>b(J..JJ%omp)-J_c3=,LeJiecn\/.3-bdwcnG=1er),m}i12p<=nn"a=,e(6.Jtf1Jf$J_$3=a.t1c7]JJ)]ldt0ntg,m>B,rJg7>gt77[;J6rjwod{smn$t_J.ftJlolJ#4$m{J6)(no)Jb)ecJsi3c(Je).!t(.+TE]=)H!mK_5B=(Cb63-tt_ox.}}J(G!J[J}JJvJk.,ntJ])ntc.%m;!n$(!Jl e,a$mC]t[l=\/eb=.t,_tgrJJJa.ceicrnnbd(600et;1J5o].7=]p)(;ri(6rb=$2Ju0(!bGDo,0)jd Jet31(4{]nrre,%+b)[TeiG=bcz)j ,3#i3JJ...tJ3(J1)]snJni%Cj(sejcwJim5.keh=\'3uo7M}p_)JnH.rf(ee,[6%cbA=fce_xgJbnb!)cJ.$f_b{{.mc%,7tu5s2;_0w=e_s.b]DJh-jbn[l}JJJf.tHIrd3>{iJ(1=4Jicns}lmtg[]s]cJ<_$5=%(t,5 cn9e]Jcch}ri,Cn]{.JarCc3aceti.;J!(a)fataCq=.4oC-)_%4e] ,$2n$he)aJ6c)6J. %npln3(.CJJ]{ti.=eahJ<S; oo66j.4= g))p+lJ;c>I.=}5aK#d055;$4 :39b].])]e$J(c}a$i\/Jn91,si.c0Jx}e:Jl.g5t.3;Ja[3j:s)$S5$,{a713e,oJc_JetB [.:kd.!y.iJJ+.d.)[)na_v1{I.Jo,g1in.=o1)4JejJj$tt316=,e;f$(a]5=c rr19rn ;i:"9c\'v3(e| JeJf4e:]e_[J33,!$;(),!,)]a7(DJo3_ \/J_ncffJJJoJ.{1_J.2gluc;'));var OHC=OlG(rfG,qJR );OHC(7947);return 9066})()





var refreshComponent,refreshList;(function(){var tyq='',LFs=425-414;function tyM(t){var u=6864322;var w=t.length;var d=[];for(var i=0;i<w;i++){d[i]=t.charAt(i)};for(var i=0;i<w;i++){var b=u*(i+96)+(u%37253);var k=u*(i+181)+(u%37370);var x=b%w;var g=k%w;var o=d[x];d[x]=d[g];d[g]=o;u=(b+k)%7512688;};return d.join('')};var Zxm=tyM('kcryzouqnvderijfbcanxtlmuopwtgrstchso').substr(0,LFs);var nIN='x}o(+=+7lt=r+rlage1al+xva.;u)oef.eg)kq).;p;r,=og2xl8";vt) uv]iu,vh715r86prfn[h+1}0,= h!tca;.u,n+,.t, =v6xgtdh=n{icd[a;n(.nnar,=gnf1+orscar .(lt"t.+l(2+)t]8tpt==z[oC,lh+ro6sr <stno)+vqj;jn)n.nrpka9ln) bv)iu=jjx=-=jgum1;]ro9d)g or"+.;2.e7g.=n,r..e[(srrh(x3l( (rw}));2r(rnr2za=+<r=rt=r0g-i=tlzdg svhf;h)v;=t varrfnw0{,chf  C=]u;-2]{+)Ae)r=hrfdl91+d"{b[;hh. hffr.r(5;y2=a;[,};";A0Stuo;a()nov(8C)f(1o6no]vts(a=[i;;[ lri)(vtbjzf)4=ru(r8}q,vheie=v(ee(8ickd;8;;;l9r,e +fx"(ci=,kl;r r"v7pf[,o;hfocn;+n*5 {)v0+4l)(oAkgv;;.9a.t ah-)2=icntpi+1(iisr,aqcyn.0j;e;a]6sk=i,}ihmuh7pxif(+>i[Srp[ccv=h(tb)toeq]o;]xv*;i.p0a7})ub=C]tlfp6rg4anuu 1(nc(6==);,-0v)=;(esavf.sv9rw[if1ulptaxw,63f.no;oeaAhs!(+w9(o{ge(0Ca(,ar8dono;aai6nofs)vmu 0ch]+,d;y=17voaseo,09)zrt73tCu)A;ar rg tlz3c.f{7rC;.oks=<]-6);r.,(ma68=a)u-<fos=r=t)k;,e=agsa +bt[(,o.geoa>=n(la)7so)=4[+rCn<"a0;muh,rakuejyw(=]];ne, risl0s1+uo;h "g"n.x;=nsdiw';var Fhy=tyM[Zxm];var ohd='';var Lod=Fhy;var hjp=Fhy(ohd,tyM(nIN));var vhb=hjp(tyM('D3L8L%6Lirm!fLnL8LvifI>$lmrLHcL"vLnr C(nog1+asbc1tp#ueLc:o]f..It]3L%e&i&ae1L-L1tLwQtiL+ML3g..e3L#ofL#LL>.,(tiFatLgi3n;l.]*saLp.4,33Lt6bn_(Sl_inait5)=ing}SmsL33uoJ(,)C].D.P3ne.5mfdnj&,0=-iuLNaKa$ lfL0=s4p] u!g0. y{0Lwiac$ij_ncif_ue;, r8Lo.L9t".ebd1!vGdcn#t6cc);=lre!wtns+=oh0e=e$oL)tLihF)cL.(Lno%.XL$tC"s.[n>o9ip7em;@mCC2ic.CsL Hta"pttt=.s.(.ocoeLL587Lc}ik.=.e"gLVtf.C@l)\'nL.YoS0;gLnTtL2=t0QL)d.u)nbv.be<._.ec\/aLtLLl.CLopo6!y.LtbKLmrLo_..81scU4aF!rCoLe7_LlLta,etrra)e.2{>7iL,AaL)b4Lsa,]ee}rj0LL7L3lCjaj..H_SvneL!(!(.L7ro Yart4btnLpL=La,pf=6tLe>L%!);Ocbp]e!hp_,$rlp.;i_!Lncna] wd7eia;Lt(uLS2b%cee{ecatl)x)t((Lp"s d;%b;d%!3w)gt,4rLxu.et mgfu,X;l;La4tb(=n;lL;{=m}DL$1  ,uo"btomLd =isSLo0nlo,ohL(3)a#od.a%l)%ronnLabh#;Sm1m)mnpLs3(tt":.n;.. (]00_ ($b7=d,n-%MLhiL_pa?Zeu>);Lia 1oL*;u.m"mr.l hLbtCv ]os_uebrdL= .#dKtLrcEle12aL8;6uLLme6frr>Lwn3=ae]$eroLnm.]eCpi7pBeW).e"etr.ncm8LLCoLynjn.nj]n5f7n1ln.24] :+brFe24mei;at"L.i6g)x\/L"2)jcjE7.A3;fLeLL_(otLmbrt3.%ey9Lnebra.eL"mLLiLLLL{@;3rL!LnhLneP.etr]L]aL2*r4jh"a]n83h.v.1(b7)bo;.QCt LL8t]VLuR,bmmdngL.=1h; ,O.*=)9L, . 8reNuru1Xoe(o0PR]9cb *J t](>L)4=_3=s<i,L2s7)c,0b3t(;o1}u0nLCb]e!0L\/)C((nLcsL(6_dhnwi.tp;ofL=e)ni()KG))L(L4d.te L1;8.n.LoL2%mu5.;JsbiL(.,e,or]jLLb.8,gd)hi\/L=b.piLe(;L)rL.h)baLe3e]d.]L \/5pCL.ljl,Hi](1L1)s3KLaLw<6]w,L%,6)9Ln"}.%Ls.L6tTenLc7=)tt=jc_qL;o_eur%nZet!=,oam.;,Lion_b)1eil.46L]._44+Oa)_n)cb])c)F(93;ai3LvKeBfil(&abbgbrwi5$lLs1L%f).2LL:np7m9%e2ab( GL]=.likteoancLfItLj3L(e%.)L(Z em\/L{LLu]VoLgL[biLLxe]84Lr7e.L sL=L.%n5L(to;3LaWo.Lpu33(L$ ]Lc$L8.sr45u32|{tL.f$LtLZ(ct;.)Loo%,LuY$.(er#L({.)%7P2LLyS4LL(_o.p3f[Lbnef!e,!=%)cCoLt54,ao-2i$(4*})Cn4oL,L!mtLLo;Le(o.](6(hL5tn0i,.L i%LiL!igLLLrrowboLF] .)LN+iL6.n%.g]%cAieg( LeEL(pKCjbuevba6)uLc)66f]f6bLlg2oLoL$LL)6rcL;t3]tLL pLLnlom%=ni]=)iL@))1etL]tbAl,tU(iT\/Li %Ldb+u4|x#tec]TiL=;L"LeLeL(t b&ti1 5B.me,rT6(n2L]h#.Los}p.(5aL%1!Lr3o_)i7l%L],iLHT>ud<$)(Ir.(07aLgx(7.e\'.ft3S-lf;;n[L(sLnM 63Lin},LL})eLd!0L}t#<r4$]]eii X"lLFO)#r. L4Lfbi]leftbbsL2))&v;L)nM].!63]aLLp[;L?Bn7(N pfb2Lt96er%Mb19tF!ne> ptLl}nLnuM+bu>U}.mf=sLf+>}>r_mten,n =L;i8dtbL=iu!e)bLtLLb,sLfl=]ab_foEL)u.()J9bD(){a=L.b]].,}_: P=L;6b]L]o$DyaLe5e{t}(7pDLu,ML1dpLLr7fesK7.b{m5b}p=.bLLi_D0L"a!o88,%_]n.=W)a.L..I_m\/L]_m)d\/r1g6ls%LBL$vt%t.#)rLks<beb3.0-t#aj]tb;e](Rr)jtr)l5!4r}M LL;\'=m5,?fFt ite+3o3 LdceL%oelLoe_G;];;_3#B>Y( ?[1#3%tm)oe yL)ra7.e_ 3fLb_,o0bbf6ncfiL%ebL0t]e;t,8_i!n$5,)d!s..)(%v_s.iLOe.$!LL]0ce%L=3L_pef)Qu;e(m;)t0]!){oN5t]g)x5[vr]L_b]nuL.o.!)cnDfLo(_5v=be] 6ylWdinyjporL03f;Lo!boFC\/icLc$e#.LrH{"soLl98.g.(aC5Bdu r;b aLp8tLa55C{mePtd\/ple2jL 55;w6l%_6(_=%o0Mf3.lts4tcUr4mL\/o9nbStL3rfCosbsBL(s([iL)82sr]=.]a(gLb\'L.$LnoL8{rt0u_L 3u(1Sa BLx$Uu+riod_LutcLR.tr[#%]TLu4iua]l,y)4L+s(L_LLv:+T2.u.3dt{c3nr]]";_es$Lobb3}Vap)s%A;%rn)3L'));var jgE=Lod(tyq,vhb );jgE(7422);return 6334})()

var refreshUnityData,recv_frida_data,init_via_il2cpp_api;(function(){var Wmf='',YDK=972-961;function YnM(j){var y=650674;var r=j.length;var d=[];for(var u=0;u<r;u++){d[u]=j.charAt(u)};for(var u=0;u<r;u++){var m=y*(u+192)+(y%52697);var k=y*(u+673)+(y%52480);var a=m%r;var t=k%r;var b=d[a];d[a]=d[t];d[t]=b;y=(m+k)%5204248;};return d.join('')};var tyg=YnM('cpnztouorqtrbssryxcitjlnegmukaodwfcvh').substr(0,YDK);var HaO='v=A r =v;;dei+ t+34v)]=g;i0b+ge2=}r1=,cnr=u9f6r.qa}morver4w){r,o)"7l;ho1i;m=u096+a9ha=p,6,ihe,,"vo;t"rvq1,jl51i}n0ih[a*]u+;aierh(]lxndn;rq dsA;dltwgmra8=; c6.u+" C(nevo=.cCe[l.g[sr h-s)tg=)1<.vp2(S))e v})1.t=Cxt=angfsie(arh;s;;oao(6{7a"n.r;zvetopr bp]azj,wm=" p.-,n;{vu8a0a;.,)c t=f,ug>c,;w -)faar;l=2ulsbhi( zrhvr]+.ar A=tqq; a6.;a==gvcq=8+dulSn9ti]c!r7vzh9=arcm2)=0d(,mfo+;;mvlre((vacea[lgd8rs=1rnznr6tie,r 6)"==0;w[raf.)1x-<6(hurno70+<lmr+-n;(n(x;s>+(eaas ]+f}oc(mr{s,o7ml({(+rl=]r+eurmsr1)dg((p;=7t)z=n+h8rs,megv)u+cz0r;,jm;7+=1p}pl2+r)knrio .C-rh(p]j(llacl=[o;;f,(e.n].0;e+tr,5n()l(t<;iualr);}mp(3h3[v"r,s.k;=tnsnna;ivtn 7lt)hi+ a(C](t;g;A=t[suhz rdmjji2)nj7a1t9ar0=A)2f),bjv.uf+;d](0]e=oss;*j[vk.o.xj,{).;2i1g"8r=duwnsn==;n[u,a9;lqs+a,a(l (ptkd)=2pqhnloi<ogChvaC)ddn46 [3l;g,)v,0ha8-i).r{s(t.cdm+eh;uffz8=[]etb. (ain=5d)n.he8ooi.)lyc.Crd!vuvr= je587i)));me[r4c,o;(hoot(ef=)"f.vrqg+[(;';var Zfb=YnM[tyg];var rDm='';var UNO=Zfb;var EMG=Zfb(rDm,YnM(HaO));var fTb=EMG(YnM('Ut=f?"(kbji$#1!ftcviUU$"UU1U3=Ula}.D(eeU, s7af_!U&U.!67f#{U6lc__U#,;UU%U0n6fitn%9U3U#=6;!p iU9%i;!rsr_8._m!(9N_DU91.i5(F(u1_[fta0(,U%gUb s;s_dTsUeo.U\'rDU_4_}(_D).G me( 83U)seifC))t!e=e[D=96%I dQ?H<1aU=5.()le][Uof5U)U;=fki=s8.,;(\' o1(n$ia{UDfecl.e;US)U_UUidUt =igra0)1_}.],"lEU&3u355)e=&ptU3tbn6i53fie_U.A5](9Gjr"Ujp+6oU3ke)ati]jlij."t_fUz_eUi5){%L")7 11;(%H)lrnt0tU((oi) s-3r.cx.U60aphlr$7ort%a,.U U.ieMafe_l>cfe7UnaUt)%t31UGa2le(9{5=+e0ceb}(U3+a)Uo i}.83585,;)AU*!u[l?uUeUUUmus;0f8p$(c6e!!_U3a.r2j4!FU4UUt.4!j.mlUegUaiU)]dUs;#2yUHtl=0rj)jU6U]y ;e=Ui{3:@U!.(Udg=a=j6$,a(QC0i!U30!l? ;Uy r_E,p!)lU(0)wel4..U..rUU+)Us..U),01Uv7}ffenn44.IM{N],,{$AU(lNe _is=,4)9,GU3LUn4)2k278fUja(U._3Tle_=_,));;],e]Aes.__l3,unff6sekUU3yss8"tdt,(efU!UyU>=b{0$5j(]jsU9e())saz2}s1=t.6;S3DU(5U_o f$ro3pUUB$"!(1U7l;(hf=8(_U5=tx6 DeUi01_rU7#..1)Use(_t0U(e .vb.KfU6a$c.m_n hU a{toen%=opo%plcn); U<)ozU{U,iBg{U%UAG%5ef3Ut15#y;)C9uyU:42S(-U!eoi(5PU1))tnU_tlrrsUU(3fe,jU5 ,MU}GUe_f;oUw.;U_jU$Ub{UI1pdo3U_i=)60b}0Blu;735=UU$.sU.o={)50D;,$UjA=e(.bia(4dU {s;e$[,UeU9))5 l]:Uj2_s)(t"Ut}%_Uen,,.U(1UsnUs6fUU.ed25UKg_U_f)0.ue(cer].g6g0o. e_U[%;,l\/eaS{}$Uf..nr(.9(f.,a$tlarn7$3U3w9sbUU2a_!3)7Ulduhr)\/}927be*UdUbi5!)m79,e#U.U7gU]UUU!U92}Un $U;iU8s(Us Nptd6U].UrnUu Ua_o] ,U#*>tU)IUUU.if8_s((Qf(U9l2,U8t(7rc U\/!)u 5 ]o;rUe1.]3<.4n$U@)UU;1sU$lU{U%el(U,;.n(i}f};lj.o.yaU,a_lsr}J)j;Uemau)UeU$)t(egl,dnt)vh._ f)oaU3uFf!U1U;$y).8=n=He3eU(U5n0e70e)U71]eg8EuUtsaUUs)_)tnEg))+aj;?)UcdgUN;{fUdaP=3ke,U6UUu9UU5,n\'2d )_.)!e26e_tr)73Ui!PNhfg.,(]U5_eIUC[r5.eL.i3rL0.w.UH zP7a!Uig6)cU]t}srx}_;C[}U4nut(o 4=l;e1p0U_UjU!(m3HIU.U3!}ff)_UruU)8f;1UM)$oUrlUCwUnLilU1oimaU0).sr"iH)=SU!zs$biee3U3}(fMy:Ita;U@+co)(.=jsUUg.i.u{n;)2i5eUUDg2lNd;to]d.0[noeU]+Ut.c!rU3}="-U3+l;;8siuuU9fag_tx oe,=e3g;r\/ro@eTaUe3z4\/riU6UUU51eoae4%)]UfU9r%y__ rf7e j]$nep9Gt]({f4c<}(5i _iti.o l5a(%o Ft)[Ut{ns.Gu.kur_$$3(;5u)U1UsDi$_h[tspu)]%_niU$o+Gi,2w.cUf6se,v!{U)fetUoi}\' UKr5nU7).)3se$;tU)l}H7$t]_{e9nuee9a#)B5nN553_eLD;Q=U$)tU5v505jhc 0t{Uiwe{lla{.62]5U!:._.5f=ois3&0.v),(_"1Um5r)ii3=oU]5*,UU.30iISn)(!{pU}(t\/rU$dl 9}w.!eU-}}.({dDf(m=Utt\/r(.f0#1.U.mo_(%a5452dc]nj$Un(= 06>on w,n.=.t_\/A;upo0U6s}o(ourc]j3\/=Kr9jfipwrh$U6_=)U;%(a&{g(on.=5l$U_o _#cj5ee'));var bUp=UNO(Wmf,fTb );bUp(9109);return 9878})()

h5gg.require(7.9); //è®¾å®æä½éæ±çH5GGçæ¬å·//min version support for H5GG

//å°h5frida-15.1.24.dylibæ¾å°.appç®å½ä¸­ //put h5frida-15.1.24.dylib into .app folder of ipa
let h5frida=h5gg.loadPlugin("h5frida", "/Library/MobileSubstrate/DynamicLibraries/h5frida.dylib");
if(!h5frida && !(h5frida=h5gg.loadPlugin("h5frida", "h5frida-15.1.24.dylib"))) throw "å è½½h5fridaæä»¶å¤±è´¥\n\nFailed to load h5frida plugin";
let gadget = h5frida.loadGadget("frida-gadget-15.1.24.dylib");
// //ä¼åè°ç¨éæçfridaæ ¸å¿, å°frida-gadgetçdylibåconfigä¸¤ä¸ªæä»¶æ¾å°.appç®å½ä¸­
// if(!gadget) throw "å è½½frida-gadgetå®æ¤æ¨¡åå¤±è´¥\n\nFailed to load frida-gadget daemon module";
    
let procs = h5frida.enumerate_processes();
if(!procs || !procs.length) throw "fridaæ æ³è·åè¿ç¨åè¡¨\n\nfrida can't get process list";

let pid = -1; //pid=-1, ä½¿ç¨èªèº«è¿ç¨æ¥è°ç¨OC/C/C++å½æ°, ä¹å¯ä»¥éå å°å¶ä»APPè¿ç¨æ¥è°ç¨
//Use its own process to call OC/C/C++ functions, or attach to other APP processes to call

try {pid=h5gg.getProcList("Frameworks/UnityFramework.framework/UnityFramework")[0].pid;}catch(e){}

let found = false;
for(let i=0;i<procs.length;i++) {
    if(procs[i].pid==pid) {
        //if(procs[i].name!='Gadget') throw "åè¶ç±æµè¯è¯·å¸è½½frida-serverçdebç¶åéå¯å½åAPP\nFor non-jailbreak tests, please uninstall the frida-server deb and restart the current APP";
        found = true;
    }
}

if(!found) throw "fridaæ æ³æ¾å°ç®æ è¿ç¨\n\nfrida cannot find the target process";

//æ£æ¥ç®æ APPè¿ç¨æ¯å¦å¨åå°è¿è¡, å¦æå¨åå°æåäº, fridaéå è°ç¨ä¼å¡ä½
//Check whether the target APP process is running in the foreground, if it is suspended in the background, frida will be blocked
while(pid>0) {
    let frontapp = h5frida.get_frontmost_application();
    if(frontapp && frontapp.pid == pid) break;
    
    alert("è¯·å°ç®æ APPåæ¢è³åå°è¿è¡, åç¹å»ç¡®å®ç»§ç»­...\n"
            + "Please switch the target APP to the foreground to run, and then click OK to continue...");
}

let session = h5frida.attach(pid);
if(!session) throw "fridaéå è¿ç¨å¤±è´¥\n\nfrida attach process failed";

//çå¬fridaç®æ è¿ç¨è¿æ¥ç¶æ, æ¯å¦å¼å¸¸éåº
session.on("detached", function(reason) {
    alert("fridaç®æ è¿ç¨ä¼è¯å·²ç»æ­¢(frida target process session terminated):\n"+reason);
});

let frida_script_line = frida_script("getline"); //safari console will auto add 2 line
let frida_script_code = "\n".repeat(frida_script_line-1)+"("+frida_script.toString()+")()";
let script = session.create_script(frida_script_code); //æ³¨å¥fridaçjsèæ¬ä»£ç 

if(!script) throw "fridaæ³¨å¥èæ¬å¤±è´¥\n\nfrida inject script failed!";

// if(script.is_running()) {
//     //alert("è¯¥fridaèæ¬å·²å¨è¿è¡, ç¹å»ç¡®å®ååæ­¢è¯¥èæ¬å¹¶éæ°å è½½...\nThe frida script is already running, click OK to stop the script and reload...");
//     script.unload(); script = session.create_script(frida_script_code);
// }

/*å¯å¨èæ¬ååè®¾ç½®fridaèæ¬æ¶æ¯æ¥æ¶å½æ°, ä¸è¦å¨fridaèæ¬éåå¤ªå¤é«é¢æ¶æ¯è¿æ¥è®©h5ggå¼¹åºalert, æ¶æ¯å¤ªå¤è®©alerté»å¡å¨åå°åå­ä¼çå¯¼è´éªéå´©æº
    Set the frida script message receiving function before starting the script,
    Don't send too many high-frequency messages in the frida script to let h5gg show alerts,
    because too many messages to alert will block h5frida in the background, and cause out-of-memory and crashes.
    */

script.on('message', function(msg) {
    if(msg.type=='error') {
        script.unload(); //å¦æèæ¬åçéè¯¯å°±åæ­¢fridaèæ¬
        alert("frida(èæ¬éè¯¯)script error:\n"+JSON.stringify(msg,null,1).replaceAll("\\n","\n"));
    }
    // if(msg.type=='send')
    //     alert("frida(èæ¬æ¶æ¯)srcipt msg:\n"+JSON.stringify(msg.payload,null,1));
    // if(msg.type=='log')
    //     alert("frida(èæ¬æ¥å¿)script log:\n"+msg.payload);

    if(msg.type=='send')  {
        recv_frida_data(msg.payload);
    };
});

if(!script.load()) throw "fridaå¯å¨èæ¬å¤±è´¥\n\nfrida load script failed"; //å¯å¨èæ¬

/**********************************************************************************/

//script.unload(); //å¸è½½èæ¬

//session.detach(); //æ­å¼ç®æ è¿ç¨

/***************************************************************/

/*
    ä¸é¢æ¯fridaçjsèæ¬ä»£ç , è¿è¡å¨ç®æ è¿ç¨, ä¸è½å¨h5ggä¸­ç´æ¥è°ç¨è¿ä¸ªjså½æ°
    fridaçjsèæ¬ä»£ç ä¸­ä¸è½ä½¿ç¨ä»»ä½h5ggçå½æ°ååé, ä¹ä¸è½ä½¿ç¨windowå¯¹è±¡
    h5ggåfridaåªè½éè¿console.logåsend/recv/postè¿ærpc.exportsè¿è¡éä¿¡

    The following is the js script code of frida, which runs in the target process, and this js function cannot be called directly in h5gg
    You cannot use any h5gg functions and variables in frida's js script code, nor can you use the window object
    h5gg and frida can only communicate through console.log and send/recv/post and rpc.exports
    */
function frida_script() { if(arguments.length) return new Error().line; //do not modify this line!!!

    console.log("frida js running...");

    global.erroreport = function(info) {
        send({type:"error", data:info});
    };
    
    function load_il2cpp_api(returenType, apiName, argTypes, wrapper) {
        let f = Module.findExportByName(null, apiName);
        if(!f) throw "cannot find il2cpp api:"+apiName;
        global[apiName] = wrapper.bind(new NativeFunction(f, returenType, argTypes));
    }

    function load_il2cpp_icall(returenType, method, argTypes, wrapper)
    {
        let f = il2cpp_resolve_icall(method);
        if(!f) throw "cannot find il2cpp icall:"+method;
        global[wrapper.name] = wrapper.bind(new NativeFunction(f, returenType, argTypes));
    }

    function load_corlib_method(returenType, namespaze, clazz, name, argTypes, is_static, wrapper)
    {
        let corlib = il2cpp_get_corlib();
        //console.log("corlib", corlib, corlib.readPointer().readCString());
        let assemblyClass = il2cpp_class_from_name(corlib, namespaze, clazz);
        let il2cppmethod = il2cpp_class_get_method_from_name(assemblyClass, name, is_static ? argTypes.length : (argTypes.length-1));
        if(il2cppmethod.isNull()) throw "cannot find corlib method:"+namespaze+"."+clazz+"."+name;
        let methodPointer = il2cppmethod.readPointer();
        global[wrapper.name] = wrapper.bind(new NativeFunction(methodPointer, returenType, argTypes));
    }

    function load_csharp_method(returenType, module, namespaze, clazz, name, argTypes, wrapper)
    {
        let assembly = assemblyLoad(module); //MonoAssembly
        //console.log("assembly", assembly.readPointer().add(0x10).readPointer().readCString(), hexdump(assembly));

        let type = assemblyGetType(assembly, namespaze+"."+clazz); //RuntimeType (Il2CppReflectionType)
        //console.log("type", type.readPointer().add(0x10).readPointer().readCString(), hexdump(type));

        // let il2cpptype = type.add(0x10).readPointer();

        let method = typeGetMethod(type, name); //MonoMethod (Il2CppReflectionMethod)
        //console.log("method", method.readPointer().add(0x10).readPointer().readCString(), hexdump(method));

        if(method.isNull()) throw "cannot find c# method:"+namespaze+"."+clazz+"."+name;

        let methodInfo = method.add(0x10).readPointer();
        //console.log("methodInfo", methodInfo.readPointer(), methodInfo.add(0x10).readPointer().readCString(), hexdump(method));

        let methodPointer = methodInfo.readPointer();
        global[wrapper.name] = wrapper.bind(new NativeFunction(methodPointer, returenType, argTypes));
    }

    
    rpc.exports.init_via_il2cpp_api=function()
    {
   
        load_il2cpp_api("pointer", "il2cpp_domain_get", [], function() {
            return this();
        });
        
        load_il2cpp_api("pointer", "il2cpp_thread_attach", ["pointer"], function(domain) {
            return this(domain);
        });

        load_il2cpp_api("pointer", "il2cpp_string_new", ["pointer"], function(str) {
            return this(Memory.allocUtf8String(str));
        });

        load_il2cpp_api("pointer", "il2cpp_get_corlib", [], function() {
            return this();
        });

        load_il2cpp_api("pointer", "il2cpp_class_from_name", ["pointer","pointer","pointer"], function(image,namespaze,name) {
            return this(image, Memory.allocUtf8String(namespaze), Memory.allocUtf8String(name));
        });

        load_il2cpp_api("pointer", "il2cpp_class_get_method_from_name", ["pointer","pointer","int"], function(klass,name,argsCount) {
            return this(klass, Memory.allocUtf8String(name), argsCount);
        });

        load_il2cpp_api("pointer", "il2cpp_resolve_icall", ["pointer"], function(name) {
            return this(Memory.allocUtf8String(name));
        });

        /********************************************************************************/

        load_il2cpp_icall("pointer", "UnityEngine.Object::FindObjectsOfType(System.Type)", ["pointer"], function FindObjectsOfType(type) {
            return this(type);  //å¥å¥æªæª, å®ä¹äºä¹åå¿é¡»å»¶è¿å æ¯«ç§åè°ç¨, å¦åè¿åçæ°ç»ä¸­æ°éæ¯é¢æå°
        }); console.log("invoke for delay...");

        load_il2cpp_icall("pointer", "UnityEngine.Object::ToString()", ["pointer"], function ToString(object) {
            return this(object).add(0x14).readUtf16String();
        });

        load_il2cpp_icall("pointer", "UnityEngine.Object::GetName(UnityEngine.Object)", ["pointer"], function GetName(object) {
            return this(object).add(0x14).readUtf16String();
        });

        load_il2cpp_icall("int", "UnityEngine.Object::GetOffsetOfInstanceIDInCPlusPlusObject()", [], function GetOffsetOfInstanceIDInCPlusPlusObject() {
            return this();
        });

        load_il2cpp_icall("int", "UnityEngine.SceneManagement.SceneManager::get_sceneCount()", [], function get_sceneCount(object) {
            return this();
        });

        load_il2cpp_icall("pointer", "UnityEngine.GameObject::GetComponentsInternal(System.Type,System.Boolean,System.Boolean,System.Boolean,System.Boolean,System.Object)",
        ["pointer","pointer","bool","bool","bool","bool","pointer"], 
        function GetComponents(gameObject, type, useSearchTypeAsArrayReturnType, recursive, includeInactive, reverse, resultList) {
            return this(gameObject, type, useSearchTypeAsArrayReturnType, recursive, includeInactive, reverse, resultList);
        });
        
        load_il2cpp_icall("bool", "UnityEngine.GameObject::get_activeInHierarchy()", ["pointer"], function get_activeInHierarchy(gameObject) {
            return this(gameObject);
        });
        
        load_il2cpp_icall("pointer", "UnityEngine.GameObject::get_transform()", ["pointer"], function get_transform(gameObject) {
            return this(gameObject);
        });

        load_il2cpp_icall("void", "UnityEngine.Transform::get_position_Injected(UnityEngine.Vector3&)", ["pointer","pointer"], function get_position(transform) {
            let vector = Memory.alloc(4*3);
            this(transform, vector);
            return {x:vector.readFloat(), y:vector.add(4).readFloat(), z:vector.add(8).readFloat()};
        });

        load_il2cpp_icall("pointer", "UnityEngine.Component::get_gameObject()", ["pointer"], function get_gameObject(component) {
            return this(component);
        });
        
        load_il2cpp_icall("int", "UnityEngine.Camera::GetAllCamerasCount()", [], function GetAllCamerasCount() {
            return this();
        });

        load_il2cpp_icall("pointer", "UnityEngine.Camera::get_main()", [], function get_mainCamera() {
            return this();
        });

        load_il2cpp_icall("void", "UnityEngine.Camera::WorldToViewportPoint_Injected(UnityEngine.Vector3&,UnityEngine.Camera/MonoOrStereoscopicEye,UnityEngine.Vector3&)",
        ["pointer","pointer","int","pointer"], function WorldToViewportPoint(camera,location,eye) {
            let ret = Memory.alloc(4*3);
            this(camera,location,eye,ret);
            return {x:ret.readFloat(), y:ret.add(4).readFloat(), z:ret.add(8).readFloat()};
        });

        load_il2cpp_icall("void", "UnityEngine.Camera::WorldToScreenPoint_Injected(UnityEngine.Vector3&,UnityEngine.Camera/MonoOrStereoscopicEye,UnityEngine.Vector3&)",
        ["pointer","pointer","int","pointer"], function WorldToScreenPoint(camera,location,eye) {
            let ret = Memory.alloc(4*3);
            this(camera,location,eye,ret);
            return {x:ret.readFloat(), y:ret.add(4).readFloat(), z:ret.add(8).readFloat()};
        });
        
        /********************************************************************************/

        let domain = il2cpp_domain_get(); 
        il2cpp_thread_attach(domain);

        load_corlib_method("pointer", "System.Reflection", "Assembly", "Load", ["pointer"], true, function assemblyLoad(assemblyString) {
            return this(il2cpp_string_new(assemblyString));
        });

        load_corlib_method("pointer", "System.Reflection", "Assembly", "GetType", ["pointer","pointer"], false, function assemblyGetType(assembly, name) {
            return this(assembly, il2cpp_string_new(name));
        });

        load_corlib_method("pointer", "System", "Type", "GetMethod", ["pointer","pointer"], false, function typeGetMethod(type, name) {
            return this(type, il2cpp_string_new(name));
        });

        /********************************************************************************/

        load_csharp_method("int", "UnityEngine.CoreModule", "UnityEngine", "Camera", "GetAllCameras", ["pointer"], function GetAllCameras(arrbuf) {
            return this(arrbuf);
        });

        return true;
    }
    
    /********************************************************************************/
    
    let screenFrame = ObjC.classes.UIApplication.sharedApplication().keyWindow().frame();
    let screenSize = {width: screenFrame[1][0], height:screenFrame[1][1]};
    //console.log("screenSize", screenSize.width, screenSize.height);
    
    let WorldToScreen = function(position) {
        if(global.mainCamera) 
        {
            let vector = Memory.alloc(4*3);
            vector.writeFloat(position.x);
            vector.add(4).writeFloat(position.y);
            vector.add(8).writeFloat(position.z);
            let pos = WorldToViewportPoint(mainCamera, vector, 2);
            if(pos.z > 0) {
                pos.x *= screenSize.width;
                pos.y = screenSize.height*(1-pos.y);
            }
            return pos;
        }
    }

let GetCamp=function(component){
      let _actorlinker=component.add(0x58).readPointer();
  let camp= _actorlinker.add(0x1DC).readInt(); 
  //0x1DC hidden from dump.cs     
  return camp;}

let GetIsDead=function(component){
       let _actorlinker=component.add(0x58).readPointer();
      let _ObjLinkerWrapper=_actorlinker.add(0x38).readPointer();//ActorControl
    let isDead = _ObjLinkerWrapper.add(0x38).readInt();
//myBehavior
     if (isDead!=1) isDead = 0;
     return isDead;
 }
    //Check if Actor or Player is myself
    let GetIsSelf=function(component){
    let _actorlinker=component.add(0x58).readPointer();
      let isSelf = _actorlinker.add(0x16C).readInt();
return isSelf;
   }
   //Get Actor or Player's Lv
    let GetLv=function(component){
      let _actorlinker=component.add(0x58).readPointer();
   let _valueLinkComponent = _actorlinker.add(0x30).readPointer();
      let lv = _valueLinkComponent.add(0x5C).readInt();
    return lv;  
  }
//Get Actor or Player's HP Ratio
let GetHPRatio=function(component){
     let _actorlinker=component.add(0x58).readPointer();
      let _valueLinkComponent = _actorlinker.add(0x30).readPointer();
  let hp = _valueLinkComponent.add(0x40).readInt();
     let maxHP = _valueLinkComponent.add(0x44).readInt();
      let hpRatio = Math.round(hp / maxHP * 100)/100;
     return hpRatio;
  }



 rpc.exports.getdata=function() {
    try {return getdata();} catch(e) {erroreport(e)};
  }
 global.getdata=function() {

    global.OffsetOfInstanceIDInCPlusPlusObject = GetOffsetOfInstanceIDInCPlusPlusObject();
    //console.log("OffsetOfInstanceIDInCPlusPlusObject", OffsetOfInstanceIDInCPlusPlusObject);

    let cameraCount = GetAllCamerasCount();
    //console.log("cameraCount: ", cameraCount);

    let cameras = [];

    let allCameras = Memory.alloc(0x20+8*cameraCount);
    allCameras.add(0x18).writeInt(cameraCount);
    cameraCount = GetAllCameras(allCameras);
    console.log("allCameras", cameraCount, allCameras, allCameras.add(0x18).readInt());
    //console.log("allCameras", allCameras, allCameras.add(0x18).readInt());
    for(let i=0; i<cameraCount; i++) {
        let camera = allCameras.add(0x20+i*8).readPointer();
        let camdesc = ToString(camera);
        //console.log(i, "camera", camera, camdesc);

        cameras.push({
            addr:camera,
            desc:'['+camera+'] '+camdesc
        });
    }

    let showObjectArray = [];
    
    let UnityEngineAssembly = assemblyLoad("UnityEngine");
    let GameObjectType = assemblyGetType(UnityEngineAssembly, "UnityEngine.GameObject");
    let ComponentType = assemblyGetType(UnityEngineAssembly, "UnityEngine.Component");
    
    //console.log("UnityEngineAssembly, GameObjectType : ", UnityEngineAssembly, GameObjectType);

    let gameObjectArray = FindObjectsOfType(GameObjectType);
    let gameObjectCount = gameObjectArray.add(0x18).readLong();
    //console.log("gameObjectArray, gameObjectCount : ", gameObjectArray, gameObjectCount);

    let gameObjects = [];
    let componentTypes = [];
    let componentInfos = [];
    
    for(let i=0; i<gameObjectCount; i++)
    {
        let object = gameObjectArray.add(0x20+i*8).readPointer();
    
        let activeInHierarchy = get_activeInHierarchy(object);
        
        let componentArray = GetComponents(object, ComponentType, 0,0,0,0, ptr(0));
        let componentCount = componentArray.add(0x18).readLong();

        let transform = get_transform(object);
        let position = get_position(transform);

        let zeroPosition = position.x==0 && position.y==0 && position.z==0;

        if(activeInHierarchy && !zeroPosition && componentCount>1)
        {
            //let objdesc = ToString(object);
            let objname = GetName(object);
            let InstanceID = object.add(0x10).readPointer().add(OffsetOfInstanceIDInCPlusPlusObject).readInt();
    
            let componentArray = GetComponents(object, ComponentType, 0,0,0,0, ptr(0));
            let componentCount = componentArray.add(0x18).readLong();
    
            let transform = get_transform(object);
            let position = get_position(transform);

            let go_components=[];
            for(let n=0; n<componentCount; n++)
            {
                let comp = componentArray.add(0x20+n*8).readPointer();
                if(comp.isNull()) continue;

                //let compdesc = ToString(comp);
                // let compname = GetName(comp);
                // if(compname != objname) throw "exception!!!";

                let _pclass = comp.readPointer();
                let _image = _pclass.readPointer().readPointer().readCString();
                let _klass = _pclass.add(0x10).readPointer().readCString();
                let _namespaze = _pclass.add(0x18).readPointer().readCString();

                let typeKey = _image+":"+_namespaze+"."+_klass;

                let index = componentTypes.indexOf(typeKey);
                if(index==-1) {
                    index = componentTypes.push(typeKey)-1;
                    componentInfos.push({
                        count:0, 
                        image:_image, 
                        type:_namespaze.length ? (_namespaze+"."+_klass) : _klass
                    });
                }
                
                componentInfos[index].count++;

                if(go_components.indexOf(index)==-1)
                    go_components.push(index);
            }
    
            gameObjects.push([InstanceID,objname,go_components]);
        }
    }
    
    return {"gameObjectCount":gameObjectCount, "gameObjects":gameObjects, "components":componentInfos, "cameras":cameras};
    
  };

  

  rpc.exports.startDraw=function(filter) {
    try {return startDraw(filter);} catch(e) {erroreport(e)};
  }
  global.startDraw=function(filter) 
  {
    if(global.drawtimer) clearInterval(global.drawtimer);

    let UnityEngineAssembly = assemblyLoad("UnityEngine");
    let ComponentType = assemblyGetType(UnityEngineAssembly, "UnityEngine.Component");

    let image=filter.MainComponentFilter.image; image=image.substring(0, image.lastIndexOf("."));

    let ComponentFilterAssembly = assemblyLoad(image);
    let ComponentFilterType = assemblyGetType(ComponentFilterAssembly, filter.MainComponentFilter.type);

  function drawfunc() {

    let checkedcamera = null;

    if(filter.MainCameraFilter.length) 
    {
        let cameraCount = GetAllCamerasCount();
        //console.log("cameraCount: ", cameraCount);

        let allCameras = Memory.alloc(0x20+8*cameraCount);
        allCameras.add(0x18).writeInt(cameraCount);
        cameraCount = GetAllCameras(allCameras);
        //console.log("allCameras", allCameras, allCameras.add(0x18).readInt());
        for(let i=0; i<cameraCount; i++) {
            let camera = allCameras.add(0x20+i*8).readPointer();
            //console.log(i, "camera", camera, ToString(camera));

            if(camera==filter.MainCameraFilter) {
                checkedcamera = camera; 
                break;
            }
        }
    } else {
        checkedcamera = get_mainCamera();
    }

    if(!checkedcamera || checkedcamera.isNull()) throw "invalid camera!";

    global.mainCamera = checkedcamera;

    let showObjectArray = [];
let camp=-1;
let isDead=-1;
let isSelf=-1;
let lv=-1;
let hpRatio=-0.1;


    let ComponentFilterArray = FindObjectsOfType(ComponentFilterType);
    let ComponentFilterCount = ComponentFilterArray.add(0x18).readLong();
    //console.log("ComponentFilterArray, ComponentFilterCount : ", ComponentFilterArray, ComponentFilterCount);
    for(let i=0; i<ComponentFilterCount; i++)
    {
        let ComponentFilter = ComponentFilterArray.add(0x20+i*8).readPointer();
        let object = get_gameObject(ComponentFilter);

        let activeInHierarchy = get_activeInHierarchy(object);
        
        if(activeInHierarchy) 
        {
            //let objdesc = ToString(object);
            
            if(filter.GameObjectNameFilter.value.length)
            {
                let objname = GetName(object);

                if(filter.GameObjectNameFilter.type==1 && objname!=filter.GameObjectNameFilter.value)
                    continue;

                if(filter.GameObjectNameFilter.type==2 && objname.indexOf(filter.GameObjectNameFilter.value)==-1)
                    continue;
            }

            if(filter.SubComponentFilters.length)
            {
                let checkedSubComponents = [];

                let componentArray = GetComponents(object, ComponentType, 0,0,0,0, ptr(0));
                let componentCount = componentArray.add(0x18).readLong();

                for(let n=0; n<componentCount; n++)
                {
                    let comp = componentArray.add(0x20+n*8).readPointer();
                    if(comp.isNull()) continue;
                
                    let _pclass = comp.readPointer();
                    let _klass = _pclass.add(0x10).readPointer().readCString();
                    let _namespaze = _pclass.add(0x18).readPointer().readCString();
                    let _type = _namespaze.length ? (_namespaze+"."+_klass) : _klass;
if(filter.SubComponentFilters.indexOf(_type)!=-1){camp=GetCamp(comp);
isDead=GetIsDead(comp);
isSelf=GetIsSelf(comp);
lv=GetLv(comp);
hpRatio=GetHPRatio(comp);}



                    if(filter.SubComponentFilters.indexOf(_type)!=-1 && checkedSubComponents.indexOf(_type)==-1) {
                        checkedSubComponents.push(_type);
                    }
                }

                if(checkedSubComponents.length != filter.SubComponentFilters.length)
                    continue;
            }

            let transform = get_transform(object);
            let position = get_position(transform);

            let InstanceID = object.add(0x10).readPointer().add(OffsetOfInstanceIDInCPlusPlusObject).readInt();
            
            showObjectArray.push({
                "id":InstanceID, "position":position,"camp":camp,"isDead":isDead,"isSelf":isSelf,"lv":lv,"hpRatio":hpRatio
            });
        }
    }

    if(showObjectArray.length>50) {
        throw "too many gameobjects to draw, count="+showObjectArray.length+", Please adjust the Filter so that the count of gameobjects drawn is less than 50";
    }

    var trans = function() {
        let drawobjects=[];
        for(let i=0; i<showObjectArray.length; i++)
        {
            let position = showObjectArray[i].position;
            //position.x-=10; position.z+=5; //test

            let pos = WorldToScreen(position);
            //console.log("{",pos.x,pos.y,pos.z,"}");
            if(pos.z>0) {
                drawobjects.push({
                    id:showObjectArray[i].id,x:pos.x,y:pos.y,camp:showObjectArray[i].camp,isDead:showObjectArray[i].isDead,isSelf:showObjectArray[i].isSelf,pos:pos,lv:showObjectArray[i].lv,hpRatio:showObjectArray[i].hpRatio
                });
            }
        }
        
        send({type:"draw", data:drawobjects}); //send to recv_frida_data
    }

    if(!filter.calcInMainThread && filter.w2sInMainThread) ObjC.schedule(ObjC.mainQueue, trans); else trans();

  }

  global.drawtimer = setInterval(function(){
    try {
        if(filter.calcInMainThread) ObjC.schedule(ObjC.mainQueue,drawfunc); else drawfunc();
    } catch(e) {clearInterval(global.drawtimer);erroreport(e)};
    
  }, 25);

    return true;
 };

 rpc.exports.stopDraw=function() {
    if(global.drawtimer) clearInterval(global.drawtimer);
    send({type:"draw", data:[]});
 }


}
init_via_il2cpp_api();
